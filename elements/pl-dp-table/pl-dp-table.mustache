{{#question}}
<div class="t-tbl-block">
    <table class="dp-table rounded-3 overflow-hidden">
        <thead>
            <tr>
                <th></th>
                {{#columns}}
                    <th>{{w_letter}}</th>
                {{/columns}}
            </tr>
        </thead>
        <tbody>
            {{#rows}}
            <tr>
                <td>{{v_letter}}</td>
                {{#is_material}}
                <!-- If it is question material, display correct answer directly -->
                    <td>{{correct_result}}</td>
                {{/is_material}}
                {{^is_material}}
                <!-- If it is question-required material, use input field -->
                {{#data}}
                    <td data-row="{{row_index}}" data-col="{{col_index}}" class="alignment-cell">
                        <div class="input-container" data-cell="{{name}}_{{row_index}}_{{col_index}}">
                            <input type="number" step="any" name="{{name}}_{{row_index}}_{{col_index}}" 
                                class="form-control {{#boolean}}highlight-true{{/boolean}}{{^boolean}}highlight-false{{/boolean}}" 
                                onclick="this.select()"
                                value="{{value}}" placeholder="0"/>
                            <!-- Hidden input to store the boolean value -->
                            <input type="hidden" name="{{name}}_{{row_index}}_{{col_index}}_p" value="{{#boolean}}True{{/boolean}}{{^boolean}}False{{/boolean}}" />
                            <button id="highlight-button" type="button" class="btn btn-sm btn-highlight {{#boolean}}highlight-true{{/boolean}}{{^boolean}}highlight-false{{/boolean}}"
                                data-cell="{{name}}_{{row_index}}_{{col_index}}" 
                                onclick="highlightCell(this)">
                            <i class="bi bi-highlighter fa-xs"></i>
                            </button>
                            <span class="input-group-append">
                                {{#show_partial_score}}
                                    {{#correct}}
                                        <span class="input-group-text">
                                            <span class="badge badge-success"><i class="fa fa-check" aria-hidden="true"></i> 100%</span>
                                        </span>
                                    {{/correct}}
                                    {{#incorrect}}
                                    <span class="input-group-text">
                                        <span class="badge badge-danger"><i class="fa fa-times" aria-hidden="true"></i> 0%</span>
                                    </span>
                                    {{/incorrect}}
                                {{/show_partial_score}}
                                {{#input_error}}
                                <a role="button"
                                    class="btn btn-light border d-flex align-items-center text-danger"
                                    data-toggle="popover"
                                    data-html="true"
                                    title="Format Error"
                                    data-placement="auto"
                                    data-trigger="focus"
                                    tabindex="0"
                                    data-content="{{input_error}}">
                                    <span class="mr-1">Invalid</span> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>
                                </a>
                                {{/input_error}}
                            </span>
                        </div>
                    </td>
                {{/data}}
                {{/is_material}}
            </tr>
            {{/rows}}
        </tbody>
    </table> 
</div>
{{/question}}

{{#submission}}
{{#error}}
<span >
    {{#parse_error}}
        {{#label}}<span>{{{label}}}</span>{{/label}}
        {{#raw_submitted_answer}}<code class="user-output-invalid">{{raw_submitted_answer}}</code>{{/raw_submitted_answer}}
        <a
            href="javascript:void(0);"
            role="button"
            class="badge text-danger badge-invalid btn btn-sm btn-secondary small border"
            data-placement="auto"
            data-trigger="focus"
            data-toggle="popover"
            data-html="true"
            title="Format Error"
            tabindex="0"
            data-content="{{parse_error}}"
        > Invalid <i class="fa fa-exclamation-triangle" aria-hidden="true"></i></a>
        {{#suffix}}<span>{{suffix}}</span>{{/suffix}}
    {{/parse_error}}
    {{#missing_input}}
        {{#label}}<span>{{{label}}}</span>{{/label}}
        <a href="javascript:void(0);" role="button" class="btn btn-sm btn-secondary small border" data-placement="auto" data-trigger="focus" data-toggle="popover" data-html="true" title="Missing Input" tabindex="0" data-content="There is no submitted value for this field.  This may have happened because the question was changed by course staff after the answer was submitted."> Why <i class="fa fa-question-circle" aria-hidden="true"></i></a>
        {{#suffix}}<span>{{suffix}}</span>{{/suffix}}
    {{/missing_input}}
</span>
{{/error}}
{{#all_correct}}
<div class="border border-success border-2 rounded-3">
    <p class="text-center"> You got it all correct! </p>
</div>
{{/all_correct}}
{{^all_correct}}
<div class="border border-danger border-2 rounded-3">
    <p class="text-center"> {{incorrect_message}} </p>
</div>
{{/all_correct}}
<div class="t-tbl-block">
    <table class="dp-table rounded-3 overflow-hidden">
        <thead>
            <tr>
                <th></th>
                {{#columns}}
                    <th>{{w_letter}}</th>
                {{/columns}}
            </tr>
        </thead>
        <tbody>
            {{#rows}}
            <tr>
                <td>{{v_letter}}</td>
                {{#data}}
                    <td class="{{#boolean}}highlight-true{{/boolean}}{{^boolean}}highlight-false{{/boolean}}">
                        {{value}}
                    </td>
                {{/data}}
            </tr>
            {{/rows}}
        </tbody>
    </table>
    <span class="input-group-append">
        {{#parse_error}}
            <a
                role="button"
                class="btn btn-light border d-flex align-items-center text-danger"
                data-toggle="popover"
                data-html="true"
                title="Format Error"
                data-placement="auto"
                data-trigger="focus"
                tabindex="0"
                data-content="{{parse_error}}"
            >
                <span class="mr-1">Invalid</span> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>
            </a>
        {{/parse_error}}
    </span>
</div>
{{/submission}}

{{#answer}}
<div class="t-tbl-block">
    <table class="dp-table rounded-3 overflow-hidden">
        <thead>
            <tr>
                <th></th>
                {{#columns}}
                    <th>{{w_letter}}</th>
                {{/columns}}
            </tr>
        </thead>
        <tbody>
            {{#rows}}
            <tr>
                <td>{{v_letter}}</td>
                {{#data}}
                    <td class="{{#boolean}}highlight-true{{/boolean}}{{^boolean}}highlight-false{{/boolean}}">
                        {{value}}
                    </td>
                {{/data}}
            </tr>
            {{/rows}}
        </tbody>
    </table>
</div>
{{/answer}}